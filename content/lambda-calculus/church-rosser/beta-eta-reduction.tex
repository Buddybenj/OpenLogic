% Part: lambda-calculus
% Chapter: church-rosser
% Section: beta-eta-reduction

\documentclass[../../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{lc}{cr}{be}

\olsection{$\beta\eta$-reduction}

In this section we prove the Church-Rosser property of
$\beta\eta$-reduction ($\bered$).

\begin{lem}\ollabel{lem:one-par}
  If $M \beredone M'$, then $M \beredpar M'$.
\end{lem}
\begin{proof} By induction on the derivation of $M \beredone M'$.
  \begin{enumerate}
  \item If the last rule is \olref[int][eta]{def:bered:4}, left as exercise;
    you surely want to use \olref[pbe]{thm:refl}.
  \item The other cases are like \olref[b]{lem:one-par}.
  \end{enumerate}
\end{proof}

\begin{lem}\ollabel{lem:par-red}
  If $M \beredpar M'$, then $M \bered M'$.
\end{lem}
\begin{proof} Induction on the derivation of $M \beredpar M'$.
  \begin{enumerate}
    \item If the last rule is \olref[pbe]{def:5}, then $M$ is
      $\lambd[x][Nx]$ and $M'$ is $N'$ for some $x, N, N'$ where $x
      \notin FV(N)$ and $N \beredpar N'$. Thus we can first change
      $\lambd[x][Nx]$ into $N$ by \olref[int][eta]{def:bered:4}, followed by
      the series of $\beredone$ constituting $N \bered N'$ which we
      can get by I.H.
  \end{enumerate}
\end{proof}


\begin{lem}\ollabel{lem:str}
  $\bered$ is the smallest transitive relation containing $\beredpar$.
\end{lem}
\begin{proof}
  Same as \olref[b]{lem:str}
\end{proof}

\begin{thm}\ollabel{thm:cr}
  $\bered$ satisfies Church-Rosser property.
\end{thm}
\begin{proof}
  By \olref[dap]{thm:str}, \olref[pbe]{thm:cr} and \olref{lem:str}.
\end{proof}
\end{document}
